<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="base :: layout(~{::section})">
<body>
	<section>
		<div class="container mt-5">
			<div class="row">
				<!-- Left side: Category Table -->
				<div class="col-md-7">
					<div class="card shadow-sm">
						<div class="card-body">
							<h5 class="text-warning">Category Details</h5>
							<table class="table table-bordered table-striped">
								<thead class="table-light">
									<tr>
										<th>Sr. No</th>
										<th>Category</th>
										<th>Image</th>
										<th>Action</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>1</td>
										<td>Fashion</td>
										<td><img src="/images/category_images/fashion_cat.jpg"
											alt="icon" width="40" /></td>
										<td>
											<button class="btn btn-sm btn-primary">Edit</button>
											<button class="btn btn-sm btn-danger">Delete</button>
										</td>
									</tr>
									<!-- Dynamic rows -->
									<!--
									<tr th:each="category, iterStat : ${categories}">
										<td th:text="${iterStat.count}"></td>
										<td th:text="${category.name}"></td>
										<td>
											<img th:src="@{/images/category_images/{img}(img=${category.imageName})}" alt="icon" width="40" />
										</td>
										<td>
											<button class="btn btn-sm btn-primary">Edit</button>
											<button class="btn btn-sm btn-danger">Delete</button>
										</td>
									</tr>
									-->
								</tbody>
							</table>
						</div>
					</div>
				</div>

				<!-- Right side: Add Category Form -->
				<div class="col-md-5">
					<div class="card shadow-sm">
						<div class="card-body">
							<div class="mb-3 text-start">
								<i class="fa-solid fa-tags fa-2x text-primary"></i>
								<p class="fs-5 mt-2 fw-bold text-warning mb-0">Add Category</p>

								<!-- Success Message -->
								<th:block th:if="${session.message}">
									<p class="text-success fw-bold" th:text="${session.message}"></p>
									<th:block th:if="${message}">
										<p class="text-success fw-bold" th:text="${message}"></p>
									</th:block>
								</th:block>

								<!-- Error Message -->
								<th:block th:if="${session.errormessage}">
									<p class="text-danger fw-bold"
										th:text="${session.errormessage}"></p>
										    <p class="text-danger fw-bold" th:text="${errormessage}"></p>
								</th:block>



								<form action="/admin/savecategory" method="post"
									enctype="multipart/form-data">
									<div class="mb-4 text-start">
										<label>Enter Category</label> <input type="text" name="name"
											class="form-control" placeholder="Enter category" required />
									</div>

									<div class="mb-4 text-start">
										<label>Status</label><br>
										<div class="form-check form-check-inline">
											<input class="form-check-input" type="radio" checked
												value="1" name="isActive" id="activeStatus"> <label
												class="form-check-label" for="activeStatus">Active</label>
										</div>
										<div class="form-check form-check-inline">
											<input class="form-check-input" type="radio" value="0"
												name="isActive" id="inactiveStatus"> <label
												class="form-check-label" for="inactiveStatus">Inactive</label>
										</div>
									</div>

									<div class="mb-4 text-start">
										<label>Upload Image</label> <input type="file"
											name="categoryIcon" class="form-control" accept="image/*" />
									</div>

									<div class="d-grid">
										<button type="submit" class="btn btn-success">Save</button>
									</div>
								</form>

							</div>
						</div>
					</div>

				</div>
			</div>
	</section>
</body>
</html>
